{"version":3,"sources":["components/Button.js","services/persons.js","components/Records.js","components/Form.js","components/Filter.js","components/Notification.js","App.js","index.js"],"names":["Button","label","clickHandler","onClick","baseUrl","exportObj","getAll","axios","get","then","response","data","create","newObj","post","update","id","put","remove","delete","Records","records","persons","setPersons","map","record","name","number","window","confirm","personsService","console","log","filter","person","catch","error","deleteRecord","Form","setNotiObj","useState","newName","setNewName","newNumber","setNewNumber","onSubmit","event","preventDefault","samePersonIndex","findIndex","match","personUpdate","personObj","personUpdated","message","color","setTimeout","updatePerson","newPerson","concat","value","onChange","target","type","Filter","filterString","setFilterString","Notification","notiStyle","background","fontSize","borderStyle","borderRadius","padding","marginBottom","style","App","showRecords","setShowRecords","notiObj","useEffect","regex","RegExp","filteredPersons","search","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.e69b87b4.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst Button = ({ label, clickHandler }) => {\r\n    return <button onClick={clickHandler}>{label}</button>\r\n}\r\n\r\nexport default Button","import axios from 'axios'\r\n\r\nconst baseUrl='/api/persons'\r\n\r\nconst getAll = () => {\r\n    const request = axios.get(baseUrl)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst create = ( newObj ) => {\r\n    const request = axios.post(baseUrl, newObj)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst update = ( id, newObj ) => {\r\n    const request = axios.put(`${baseUrl}/${id}`, newObj)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst remove = ( id ) => {\r\n    const request = axios.delete(`${baseUrl}/${id}`)\r\n    return request\r\n}\r\n\r\nconst exportObj = { getAll, create, update, remove }\r\n\r\nexport default exportObj","import React from 'react'\r\n\r\nimport Button from './Button'\r\nimport personsService from '../services/persons'\r\n\r\nconst Records = ({ records, persons, setPersons }) => {\r\n  const deleteRecord = ( record ) => {\r\n    if( window.confirm(`Delete ${record.name}`) ) {\r\n      personsService\r\n        .remove(record.id)\r\n        .then(response => {\r\n          console.log('Record deletion SUCCESSFUL!', response)\r\n          setPersons(persons.filter(person => person.id !== record.id))\r\n        })\r\n        .catch(error => {\r\n          console.log('Record deletion FAILED!', error)\r\n        })\r\n    } else {\r\n      console.log('User cancelled record deletion.');\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      {\r\n        records.map((record) => {\r\n          return <p key={record.name}>\r\n              {record.name} {record.number}\r\n              <Button label='delete' clickHandler={() => deleteRecord(record)} />\r\n            </p>\r\n        })\r\n      }\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Records","import React, { useState } from 'react'\r\n\r\nimport personsService from '../services/persons'\r\n\r\nconst Form = ({ persons, setPersons, setNotiObj }) => {\r\n  const [ newName, setNewName ] = useState('')\r\n  const [ newNumber, setNewNumber ] = useState('')\r\n\r\n  const updatePerson = ( personUpdate ) => {\r\n    const confirmUpdate = window.confirm(`${personUpdate.name} is already added to phonebook, replace the old number with a new one?`)\r\n    if ( confirmUpdate ) {\r\n      const personObj = { ...personUpdate, number: newNumber }\r\n      console.log('personObj', personObj);\r\n      personsService\r\n        .update(personUpdate.id, personObj)\r\n        .then(personUpdated => {\r\n          console.log('Record update SUCCESSFUL!', personUpdated);\r\n          setPersons(persons.map(person => (person.id === personUpdated.id) ? personUpdated : person))\r\n        })\r\n        .catch(error => {\r\n          console.log('Record update FAILED!', error);\r\n          setNotiObj({ message: `Information of ${personUpdate.name} has already been removed from server`, color: 'red' })\r\n          setTimeout(() => { setNotiObj({message: null}) }, 5000)\r\n          setPersons(persons.filter(person => person.id !== personUpdate.id))\r\n        })\r\n    } else {\r\n      console.log('User cancelled record update.');\r\n    }\r\n  }\r\n\r\n  const handleInputNameChange = (event) => setNewName(event.target.value)\r\n  const handleInputNumberChange = (event) => setNewNumber(event.target.value)\r\n  const handleFormSubmit = (event) => {\r\n    event.preventDefault()\r\n    const samePersonIndex = persons\r\n                        .map(person => person.name)\r\n                        .findIndex(name => name.match(newName) !== null)\r\n    if ( samePersonIndex !== -1 ) {\r\n      updatePerson(persons[samePersonIndex])\r\n    }else if ( (newName !== '') && (newNumber !== '') ) {\r\n      const personObj = { name: newName, number: newNumber }\r\n      personsService\r\n        .create(personObj)\r\n        .then(newPerson => {\r\n          setPersons(persons.concat(newPerson))\r\n          setNewName('')\r\n          setNewNumber('')\r\n          setNotiObj({ message: `Added ${newPerson.name}`, color: 'green' })\r\n          setTimeout(() => { setNotiObj({message: null}) }, 5000)\r\n        })\r\n    }\r\n  }\r\n\r\n  return (\r\n    <form onSubmit={handleFormSubmit}>\r\n      <div>\r\n        name: <input value={newName} onChange={handleInputNameChange} />\r\n      </div>\r\n      <div>\r\n        number: <input value={newNumber} onChange={handleInputNumberChange}/>\r\n      </div>\r\n      <div>\r\n        <button type=\"submit\">add</button>\r\n      </div>\r\n    </form>\r\n  )\r\n}\r\n\r\nexport default Form","import React from 'react'\r\n\r\nconst Filter = ({ filterString, setFilterString }) => {\r\n  const handleFilterStringChange = (event) => {\r\n    setFilterString(event.target.value)\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      filter shown with <input value={filterString} onChange={handleFilterStringChange}/>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Filter","import React from 'react'\r\n\r\nconst Notification = ({ message, color }) => {\r\n    if (message === null) {\r\n      return null\r\n    }\r\n  \r\n    let notiStyle = {\r\n        color: color,\r\n        background: 'lightgrey',\r\n        fontSize: 20,\r\n        borderStyle: 'solid',\r\n        borderRadius: 5,\r\n        padding: 10,\r\n        marginBottom: 10,\r\n    }\r\n    return (\r\n      <div style={notiStyle}>\r\n        {message}\r\n      </div>\r\n    )\r\n}\r\n\r\nexport default Notification\r\n","import React, { useState , useEffect} from 'react'\r\n\r\nimport Records from './components/Records'\r\nimport Form from './components/Form'\r\nimport Filter from './components/Filter'\r\nimport Notification from './components/Notification'\r\n\r\nimport personsService from './services/persons'\r\n\r\nconst App = () => {\r\n  const [ persons, setPersons ] = useState([])\r\n  const [ showRecords, setShowRecords ] = useState(persons)\r\n  const [ filterString, setFilterString ] = useState('')\r\n  const [ notiObj, setNotiObj ] = useState({ message: null , color:'' })\r\n\r\n  useEffect(() => {\r\n    personsService\r\n      .getAll()\r\n      .then(persons => {\r\n        console.log(\"data fetched!\", persons)\r\n        setPersons(persons)\r\n      })\r\n  }, [])\r\n\r\n  useEffect(() => {\r\n    if (filterString === '') {\r\n      setShowRecords(persons)\r\n    } else {\r\n      const regex = new RegExp(filterString, 'i')\r\n      const filteredPersons = persons.filter(person => person.name.search(regex) !== -1)\r\n      setShowRecords(filteredPersons)\r\n    }\r\n  }, [ filterString, persons ])\r\n\r\n  return (\r\n    <div>\r\n      <h2>Phonebook</h2>\r\n      <Notification message={notiObj.message} color={notiObj.color} />\r\n      <Filter\r\n        filterString={filterString}\r\n        setFilterString={setFilterString}\r\n      />\r\n      <h2>add a new</h2>\r\n      <Form\r\n        persons={persons}\r\n        setPersons={setPersons}\r\n        setNotiObj={setNotiObj}\r\n      />\r\n      <h2>Numbers</h2>\r\n      <Records\r\n        records={showRecords}\r\n        persons={persons}\r\n        setPersons={setPersons}\r\n      />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default App\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n"],"sourceRoot":""}